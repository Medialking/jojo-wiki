<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JojoLand ‚Äî –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∞–π—Ç</title>
    <link rel="stylesheet" href="style.css">

    <!-- –ò–≥—Ä–æ–≤–æ–π —à—Ä–∏—Ñ—Ç -->
    <link href="https://fonts.googleapis.com/css2?family=Michroma&family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        /* –ü–†–û–°–¢–´–ï –≠–§–§–ï–ö–¢–´ –§–û–ù–ê */
        .background-effects {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
            overflow: hidden;
        }
        
        .particle {
            position: absolute;
            width: 2px;
            height: 2px;
            background: rgba(255, 255, 255, 0.5);
            border-radius: 50%;
            animation: float 20s infinite linear;
        }
        
        @keyframes float {
            0% {
                transform: translateY(0) translateX(0);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100vh) translateX(100px);
                opacity: 0;
            }
        }
    </style>
</head>
<body>

<!-- –ê–ù–ò–ú–ê–¶–ò–Ø –ó–ê–ì–†–£–ó–ö–ò -->
<div id="loader">
    <div class="spinner"></div>
    <p>–ó–∞–≥—Ä—É–∑–∫–∞...</p>
</div>

<!-- –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û –í–í–û–î–ê –ù–ò–ö–ê -->
<div id="nickname-modal" class="modal-overlay">
    <div class="modal-content">
        <div class="modal-header">
            <h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ JojoLand!</h2>
            <p>–î–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è –≤–≤–µ–¥–∏—Ç–µ —Å–≤–æ–π –∏–≥—Ä–æ–≤–æ–π –Ω–∏–∫–Ω–µ–π–º</p>
        </div>
        
        <div class="modal-body">
            <div class="input-group">
                <input 
                    type="text" 
                    id="nickname-input" 
                    placeholder="–í–∞—à –Ω–∏–∫ (3-16 —Å–∏–º–≤–æ–ª–æ–≤)" 
                    maxlength="16"
                    autocomplete="off"
                >
                <div class="input-hint">
                    <span id="char-count">0/16</span>
                </div>
                <div class="error-message" id="error-message"></div>
            </div>
            
            <div class="requirements">
                <h4>–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –Ω–∏–∫—É:</h4>
                <ul>
                    <li id="req-length" class="invalid">‚úì 3-16 —Å–∏–º–≤–æ–ª–æ–≤</li>
                    <li id="req-format" class="invalid">‚úì –¢–æ–ª—å–∫–æ –±—É–∫–≤—ã, —Ü–∏—Ñ—Ä—ã –∏ _</li>
                    <li id="req-unique" class="valid">‚úì –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏...</li>
                </ul>
            </div>
        </div>
        
        <div class="modal-footer">
            <button id="submit-nickname" class="submit-btn" disabled>
                –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å
            </button>
            <p class="modal-note">–≠—Ç–æ—Ç –Ω–∏–∫ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –Ω–∞ —Å–∞–π—Ç–µ</p>
        </div>
        
        <div class="server-info-small">
            <span>IP —Å–µ—Ä–≤–µ—Ä–∞: <strong>play.jojoland.ru</strong></span>
        </div>
    </div>
</div>

<!-- –§–û–ù–û–í–´–ï –≠–§–§–ï–ö–¢–´ -->
<div class="background-effects" id="particles"></div>

<!-- –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ù–¢ -->
<div id="content">

<header>
    <div class="header-top">
        <a href="profil.html" class="profile-btn">
            <span class="profile-icon">üë§</span>
            <span class="profile-text">–ü—Ä–æ—Ñ–∏–ª—å</span>
        </a>
        <img src="images/logo.png" class="logo" alt="JojoLand Logo">
    </div>
    
    <h1>JojoLand</h1>
    <p class="subtitle">–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∞–π—Ç —Å–µ—Ä–≤–µ—Ä–∞</p>

    <nav>
        <a href="rules.html" class="nav-btn">üìú –ü—Ä–∞–≤–∏–ª–∞</a>
        <a href="tgk.html" class="nav-btn">üìò TGK</a>
        <a href="obzhalovanie.html" class="nav-btn">üîê –û–±–∂–∞–ª–æ–≤–∞–Ω–∏–µ</a>
    </nav>
</header>

<main class="main-content">
    <!-- –ò–ù–§–û–†–ú–ê–¶–ò–û–ù–ù–´–ô –ë–õ–û–ö -->
    <div class="info-block">
        <h2>–ì–ª–∞–≤–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã —Å–µ—Ä–≤–µ—Ä–∞</h2>
        <p>–í—Å–µ –≤–∞–∂–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –¥–ª—è –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ–π –∏–≥—Ä—ã –Ω–∞ –Ω–∞—à–µ–º —Å–µ—Ä–≤–µ—Ä–µ</p>
    </div>

    <!-- –ì–õ–ê–í–ù–´–ï –ö–ù–û–ü–ö–ò -->
    <div class="button-grid">
        <a href="https://t.me/+18-ycRRnOTgxZTgy" class="main-btn tgk-btn">
            <div class="btn-icon">üìå</div>
            <div class="btn-content">
                <h3>TGK —á–∞—Ç</h3>
                <p>–û—Å–Ω–æ–≤–Ω–æ–π —á–∞—Ç –¥–ª—è –∏–≥—Ä–æ–∫–æ–≤</p>
            </div>
        </a>
        
        <a href="https://t.me/Jojolandpe" class="main-btn tg-btn">
            <div class="btn-icon">üí¨</div>
            <div class="btn-content">
                <h3>Telegram –≥—Ä—É–ø–ø–∞</h3>
                <p>–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π Telegram-–∫–∞–Ω–∞–ª</p>
            </div>
        </a>
        
        <a href="http://pay.jojoland.ru/" class="main-btn donate-btn">
            <div class="btn-icon">üíé</div>
            <div class="btn-content">
                <h3>–î–æ–Ω–∞—Ç —Å–∞–π—Ç</h3>
                <p>–ü–æ–∫—É–ø–∫–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π</p>
            </div>
        </a>
        
        <a href="wiki.html" class="main-btn wiki-btn">
            <div class="btn-icon">üìò</div>
            <div class="btn-content">
                <h3>Wiki / –ì–∞–π–¥—ã</h3>
                <p>–ü–æ–ª–µ–∑–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</p>
            </div>
        </a>
        
        <a href="points.html" class="main-btn points-btn">
            <div class="btn-icon">üéÅ</div>
            <div class="btn-content">
                <h3>–ù–æ–≤–æ–≥–æ–¥–Ω–∏–µ –æ—á–∫–∏</h3>
                <p>–°–æ–±–µ—Ä–∏ –ø—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–µ –æ—á–∫–∏</p>
            </div>
        </a>
    </div>

    <!-- –ë–´–°–¢–†–´–ï –°–°–´–õ–ö–ò -->
    <div class="quick-links">
        <h3>–ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã:</h3>
        <div class="faq-items">
            <div class="faq-item">
                <h4>–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–∏–≤–∏–ª–µ–≥–∏—é?</h4>
                <p>–ö—É–ø–∏—Ç–µ –µ—ë –Ω–∞ –Ω–∞—à–µ–º <a href="http://pay.jojoland.ru/">–¥–æ–Ω–∞—Ç —Å–∞–π—Ç–µ</a></p>
            </div>
            <div class="faq-item">
                <h4>–ö–∞–∫ –≤—Å—Ç—É–ø–∏—Ç—å –≤ TGK?</h4>
                <p>–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É "TGK —á–∞—Ç" –≤—ã—à–µ</p>
            </div>
            <div class="faq-item">
                <h4>–ß—Ç–æ —Ç–∞–∫–æ–µ –Ω–æ–≤–æ–≥–æ–¥–Ω–∏–µ –æ—á–∫–∏?</h4>
                <p>–°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –≤–∞–ª—é—Ç–∞ –¥–ª—è –ø–æ–∫—É–ø–∫–∏ –ø—Ä–∞–∑–¥–Ω–∏—á–Ω—ã—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤</p>
            </div>
        </div>
    </div>

    <!-- –ò–ù–§–û–†–ú–ê–¶–ò–û–ù–ù–´–ô –ë–õ–û–ö -->
    <div class="server-info">
        <h3>–û —Å–µ—Ä–≤–µ—Ä–µ JojoLand</h3>
        <p>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –Ω–∞ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∞–π—Ç —Å–µ—Ä–≤–µ—Ä–∞ <strong>JojoLand</strong>! –ó–¥–µ—Å—å –≤—ã –Ω–∞–π–¥—ë—Ç–µ –≤—Å—é –Ω–µ–æ–±—Ö–æ–¥–∏–º—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –¥–ª—è –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ–π –∏–≥—Ä—ã.</p>
        <p>–°–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏ Minecraft —Å –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã—Ö —Ä–µ–∂–∏–º–æ–≤ –∏ –ø–ª–∞–≥–∏–Ω–æ–≤.</p>
        
        <div class="holiday-info">
            <h4>üéÑ –ù–æ–≤–æ–≥–æ–¥–Ω–µ–µ —Å–æ–±—ã—Ç–∏–µ 2025</h4>
            <p>–°–æ–±–∏—Ä–∞–π—Ç–µ <strong>–Ω–æ–≤–æ–≥–æ–¥–Ω–∏–µ –æ—á–∫–∏</strong>, —É—á–∞—Å—Ç–≤—É–π—Ç–µ –≤ –ø—Ä–∞–∑–¥–Ω–∏—á–Ω—ã—Ö –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—è—Ö –∏ –ø–æ–ª—É—á–∞–π—Ç–µ —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–µ –Ω–∞–≥—Ä–∞–¥—ã!</p>
            <a href="points.html" class="holiday-btn">–ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ –Ω–æ–≤–æ–≥–æ–¥–Ω–∏—Ö –æ—á–∫–∞—Ö ‚Üí</a>
        </div>
    </div>
</main>

<!-- –ö–ù–û–ü–ö–ê –ë–´–°–¢–†–û–ô –ü–û–ú–û–©–ò -->
<a class="help-btn" href="chat.html" target="_blank">
    <div class="help-icon">üí¨</div>
    <span>–ü–æ–º–æ—â—å</span>
</a>

<footer>
    <div class="footer-content">
        <p>¬© 2025 JojoLand ‚Ä¢ –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã</p>
        <p class="footer-ip">IP: play.jojoland.ru</p>
    </div>
</footer>

</div> <!-- /content -->

<!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script>

<script>
// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Firebase
const firebaseConfig = {
    apiKey: "AIzaSyBwhNixWO8dF_drN2hHVYzfTAbMCiT91Gw",
    authDomain: "jojoland-chat.firebaseapp.com",
    databaseURL: "https://jojoland-chat-default-rtdb.firebaseio.com",
    projectId: "jojoland-chat",
    storageBucket: "jojoland-chat.firebasestorage.app",
    messagingSenderId: "602788305122",
    appId: "1:602788305122:web:c03f5b5ef59c85fc9fe6bb"
};

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º Firebase
firebase.initializeApp(firebaseConfig);
const database = firebase.database();

// –°–û–ó–î–ê–ù–ò–ï –§–û–ù–û–í–´–• –ß–ê–°–¢–ò–¶
function createParticles() {
    const particlesContainer = document.getElementById('particles');
    
    // –°–æ–∑–¥–∞–µ–º 30 —á–∞—Å—Ç–∏—Ü
    for (let i = 0; i < 30; i++) {
        const particle = document.createElement('div');
        particle.className = 'particle';
        
        // –°–ª—É—á–∞–π–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ
        particle.style.left = `${Math.random() * 100}%`;
        particle.style.top = `${Math.random() * 100}%`;
        
        // –°–ª—É—á–∞–π–Ω—ã–π —Ä–∞–∑–º–µ—Ä
        const size = Math.random() * 2 + 1;
        particle.style.width = `${size}px`;
        particle.style.height = `${size}px`;
        
        // –°–ª—É—á–∞–π–Ω–∞—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å
        particle.style.opacity = Math.random() * 0.5 + 0.2;
        
        // –°–ª—É—á–∞–π–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å
        const duration = Math.random() * 20 + 15;
        particle.style.animationDuration = `${duration}s`;
        particle.style.animationDelay = `${Math.random() * 10}s`;
        
        particlesContainer.appendChild(particle);
    }
}

// –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –Ω–∏–∫–æ–º
function isValidNickname(nickname) {
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–ª–∏–Ω—É
    if (nickname.length < 3 || nickname.length > 16) {
        return false;
    }
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã: –±—É–∫–≤—ã (–ª–∞—Ç–∏–Ω–∏—Ü–∞ –∏ –∫–∏—Ä–∏–ª–ª–∏—Ü–∞), —Ü–∏—Ñ—Ä—ã, –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ
    const regex = /^[a-zA-Z–∞-—è–ê-–Ø—ë–Å0-9_]+$/;
    return regex.test(nickname);
}

// –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ –Ω–∏–∫–∞
async function isNicknameUnique(nickname) {
    try {
        const snapshot = await database.ref('users/' + nickname.toLowerCase()).once('value');
        return !snapshot.exists();
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∏–∫–∞:', error);
        return false;
    }
}

// –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∏–∫–∞ –≤ Firebase
async function saveNickname(nickname) {
    try {
        const userData = {
            nickname: nickname,
            createdAt: new Date().toISOString(),
            lastVisit: new Date().toISOString(),
            visitsCount: 1
        };
        
        await database.ref('users/' + nickname.toLowerCase()).set(userData);
        return true;
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è:', error);
        return false;
    }
}

// –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–¥—Å—á–µ—Ç —Å–∏–º–≤–æ–ª–æ–≤
function updateCharCount() {
    const input = document.getElementById('nickname-input');
    const charCount = document.getElementById('char-count');
    const length = input.value.length;
    charCount.textContent = `${length}/16`;
    
    // –ú–µ–Ω—è–µ–º —Ü–≤–µ—Ç –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –¥–ª–∏–Ω—ã
    if (length < 3) {
        charCount.style.color = '#ff4444';
    } else if (length > 16) {
        charCount.style.color = '#ff4444';
    } else {
        charCount.style.color = '#00cc66';
    }
}

// –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å –∏ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
let checkTimeout;
async function validateNicknameInRealTime() {
    const nickname = document.getElementById('nickname-input').value;
    const submitBtn = document.getElementById('submit-nickname');
    const errorMsg = document.getElementById('error-message');
    const reqLength = document.getElementById('req-length');
    const reqFormat = document.getElementById('req-format');
    const reqUnique = document.getElementById('req-unique');
    
    // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ
    errorMsg.textContent = '';
    submitBtn.disabled = true;
    
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–ª–∏–Ω—ã
    if (nickname.length >= 3 && nickname.length <= 16) {
        reqLength.className = 'valid';
    } else {
        reqLength.className = 'invalid';
    }
    
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞
    if (isValidNickname(nickname)) {
        reqFormat.className = 'valid';
    } else {
        reqFormat.className = 'invalid';
    }
    
    // –ï—Å–ª–∏ –æ–±–µ –±–∞–∑–æ–≤—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–π–¥–µ–Ω—ã, –ø—Ä–æ–≤–µ—Ä—è–µ–º —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å
    if (nickname.length >= 3 && nickname.length <= 16 && isValidNickname(nickname)) {
        reqUnique.textContent = '‚úì –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏...';
        
        // –î–µ–ª–∞–µ–º –∑–∞–¥–µ—Ä–∂–∫—É –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è —á–∞—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
        clearTimeout(checkTimeout);
        checkTimeout = setTimeout(async () => {
            const isUnique = await isNicknameUnique(nickname);
            
            if (isUnique) {
                reqUnique.className = 'valid';
                reqUnique.textContent = '‚úì –ù–∏–∫ —Å–≤–æ–±–æ–¥–µ–Ω';
                submitBtn.disabled = false;
            } else {
                reqUnique.className = 'invalid';
                reqUnique.textContent = '‚úó –ù–∏–∫ —É–∂–µ –∑–∞–Ω—è—Ç';
                errorMsg.textContent = '–≠—Ç–æ—Ç –Ω–∏–∫–Ω–µ–π–º —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥—Ä—É–≥–∏–º –∏–≥—Ä–æ–∫–æ–º';
            }
        }, 500);
    } else {
        reqUnique.className = 'invalid';
        reqUnique.textContent = '‚úó –í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –Ω–∏–∫';
        
        if (nickname.length > 0) {
            if (nickname.length < 3) {
                errorMsg.textContent = '–ù–∏–∫ –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 3 —Å–∏–º–≤–æ–ª–∞';
            } else if (nickname.length > 16) {
                errorMsg.textContent = '–ù–∏–∫ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –¥–ª–∏–Ω–Ω–µ–µ 16 —Å–∏–º–≤–æ–ª–æ–≤';
            } else if (!isValidNickname(nickname)) {
                errorMsg.textContent = '–†–∞–∑—Ä–µ—à–µ–Ω—ã —Ç–æ–ª—å–∫–æ –±—É–∫–≤—ã, —Ü–∏—Ñ—Ä—ã –∏ —Å–∏–º–≤–æ–ª _';
            }
        }
    }
}

// –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —É–∂–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π –Ω–∏–∫
function hasSavedNickname() {
    return localStorage.getItem('jojoland_nickname') !== null;
}

function getSavedNickname() {
    return localStorage.getItem('jojoland_nickname');
}

// –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
window.onload = async function() {
    // –°–æ–∑–¥–∞–µ–º —á–∞—Å—Ç–∏—Ü—ã
    createParticles();
    
    // –ê–Ω–∏–º–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏
    document.getElementById("loader").style.opacity = "0";
    setTimeout(() => {
        document.getElementById("loader").style.display = "none";
        document.getElementById("content").style.opacity = "1";
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π –Ω–∏–∫
        if (!hasSavedNickname()) {
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
            document.getElementById('nickname-modal').style.display = 'flex';
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–æ–±—ã—Ç–∏–π –¥–ª—è –≤–≤–æ–¥–∞ –Ω–∏–∫–∞
            const nicknameInput = document.getElementById('nickname-input');
            const submitBtn = document.getElementById('submit-nickname');
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫ —Å–∏–º–≤–æ–ª–æ–≤
            nicknameInput.addEventListener('input', () => {
                updateCharCount();
                validateNicknameInRealTime();
            });
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—Ç–ø—Ä–∞–≤–∫–∏
            submitBtn.addEventListener('click', async () => {
                const nickname = nicknameInput.value.trim();
                
                if (isValidNickname(nickname) && !submitBtn.disabled) {
                    submitBtn.disabled = true;
                    submitBtn.textContent = '–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...';
                    
                    const saved = await saveNickname(nickname);
                    
                    if (saved) {
                        // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage
                        localStorage.setItem('jojoland_nickname', nickname);
                        
                        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É—Å–ø–µ—à–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
                        submitBtn.textContent = '‚úì –£—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ!';
                        submitBtn.style.background = 'linear-gradient(90deg, #00cc66, #00ff88)';
                        
                        // –ó–∞–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —á–µ—Ä–µ–∑ 1 —Å–µ–∫—É–Ω–¥—É
                        setTimeout(() => {
                            document.getElementById('nickname-modal').style.opacity = '0';
                            setTimeout(() => {
                                document.getElementById('nickname-modal').style.display = 'none';
                                // –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
                                showWelcomeMessage(nickname);
                            }, 300);
                        }, 1000);
                    } else {
                        submitBtn.textContent = '–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è';
                        submitBtn.style.background = 'linear-gradient(90deg, #ff4444, #ff8888)';
                        setTimeout(() => {
                            submitBtn.textContent = '–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å';
                            submitBtn.style.background = 'linear-gradient(90deg, #6200ff, #ff00ff)';
                            validateNicknameInRealTime();
                        }, 2000);
                    }
                }
            });
            
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏—è Enter
            nicknameInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter' && !submitBtn.disabled) {
                    submitBtn.click();
                }
            });
            
            // –§–æ–∫—É—Å–∏—Ä—É–µ–º—Å—è –Ω–∞ –ø–æ–ª–µ –≤–≤–æ–¥–∞
            setTimeout(() => {
                nicknameInput.focus();
            }, 300);
        } else {
            // –ï—Å–ª–∏ –Ω–∏–∫ —É–∂–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω, –º–æ–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
            const nickname = getSavedNickname();
            showWelcomeMessage(nickname);
        }
    }, 400);
};

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∫–∞–∑–∞ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
function showWelcomeMessage(nickname) {
    // –°–æ–∑–¥–∞–µ–º –≤—Ä–µ–º–µ–Ω–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
    const notification = document.createElement('div');
    notification.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        background: linear-gradient(90deg, #6200ff, #ff00ff);
        color: white;
        padding: 15px 25px;
        border-radius: 12px;
        z-index: 1000;
        animation: slideInRight 0.5s ease;
        box-shadow: 0 5px 20px rgba(98, 0, 255, 0.5);
        max-width: 300px;
    `;
    
    notification.innerHTML = `
        <div style="font-weight: bold; margin-bottom: 5px;">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, ${nickname}!</div>
        <div style="font-size: 12px; opacity: 0.9;">–ü—Ä–∏—è—Ç–Ω–æ–π –∏–≥—Ä—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ</div>
    `;
    
    document.body.appendChild(notification);
    
    // –£–¥–∞–ª—è–µ–º —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
    setTimeout(() => {
        notification.style.opacity = '0';
        notification.style.transform = 'translateX(100%)';
        setTimeout(() => {
            document.body.removeChild(notification);
        }, 300);
    }, 3000);
}

// –ê–Ω–∏–º–∞—Ü–∏—è –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
const style = document.createElement('style');
style.textContent = `
    @keyframes slideInRight {
        from {
            transform: translateX(100%);
            opacity: 0;
        }
        to {
            transform: translateX(0);
            opacity: 1;
        }
    }
`;
document.head.appendChild(style);
</script>

</body>
</html>
