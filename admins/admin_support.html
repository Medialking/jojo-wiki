<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üëë –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –ø–æ–¥–¥–µ—Ä–∂–∫–∏ JojoLand</title>
    
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-database-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-auth-compat.js"></script>
    
    <script src="admin_common.js"></script>
    
    <script src="admin_auth.js"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0a0a2a, #1a1a4a, #0a0a2a);
            color: white;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        /* –ù–∞–≤–∏–≥–∞—Ü–∏—è */
        .admin-nav {
            display: flex;
            gap: 15px;
            margin-bottom: 25px;
            flex-wrap: wrap;
            padding-bottom: 20px;
            border-bottom: 2px solid rgba(255,0,255,0.3);
        }
        
        .admin-nav a {
            padding: 10px 20px;
            background: rgba(0,100,255,0.2);
            color: #6ab7ff;
            text-decoration: none;
            border-radius: 25px;
            border: 1px solid rgba(0,100,255,0.4);
            transition: 0.3s;
            font-weight: bold;
        }
        
        .admin-nav a:hover {
            background: rgba(0,100,255,0.4);
            transform: translateY(-2px);
        }
        
        /* –ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ */
        .admin-container {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 25px;
        }
        
        /* –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å */
        .sidebar {
            background: rgba(0,0,0,0.6);
            border-radius: 25px;
            padding: 25px;
            border: 2px solid #0066ff;
            height: fit-content;
            position: sticky;
            top: 20px;
        }
        
        .admin-info {
            text-align: center;
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        
        .admin-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            border: 3px solid #0066ff;
            margin: 0 auto 15px;
            background: linear-gradient(135deg, #0066ff, #00ccff);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .stat-card {
            background: rgba(255,255,255,0.05);
            padding: 15px;
            border-radius: 15px;
            text-align: center;
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        .stat-number {
            font-size: 24px;
            font-weight: bold;
            color: #00ff00;
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 12px;
            color: #aaa;
        }
        
        /* –§–∏–ª—å—Ç—Ä—ã */
        .filter-section {
            margin-bottom: 20px;
        }
        
        .filter-section h4 {
            color: #6ab7ff;
            margin-bottom: 10px;
            font-size: 16px;
        }
        
        .filter-buttons {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .filter-btn {
            padding: 10px 15px;
            background: rgba(255,255,255,0.05);
            border: none;
            border-radius: 10px;
            color: white;
            text-align: left;
            cursor: pointer;
            transition: 0.3s;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .filter-btn:hover, .filter-btn.active {
            background: rgba(0,100,255,0.3);
            border-left: 4px solid #0066ff;
        }
        
        .filter-count {
            margin-left: auto;
            background: rgba(255,255,255,0.1);
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 12px;
        }
        
        /* –û—Å–Ω–æ–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å */
        .main-panel {
            background: rgba(0,0,0,0.6);
            border-radius: 25px;
            padding: 25px;
            border: 2px solid #0066ff;
        }
        
        .panel-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 2px solid rgba(255,255,255,0.1);
        }
        
        .search-box {
            display: flex;
            gap: 10px;
            flex: 1;
            max-width: 400px;
        }
        
        .search-box input {
            flex: 1;
            padding: 12px 20px;
            border: none;
            border-radius: 25px;
            background: rgba(255,255,255,0.1);
            color: white;
            font-size: 16px;
        }
        
        .search-box button {
            padding: 12px 25px;
            border: none;
            border-radius: 25px;
            background: linear-gradient(90deg, #0066ff, #0099ff);
            color: white;
            font-weight: bold;
            cursor: pointer;
        }
        
        /* –°–ø–∏—Å–æ–∫ —Ç–∏–∫–µ—Ç–æ–≤ */
        .tickets-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
            max-height: 600px;
            overflow-y: auto;
            padding-right: 10px;
        }
        
        .ticket-item {
            background: rgba(255,255,255,0.05);
            border-radius: 15px;
            padding: 20px;
            cursor: pointer;
            transition: 0.3s;
            border: 2px solid transparent;
            position: relative;
        }
        
        .ticket-item:hover {
            background: rgba(255,255,255,0.1);
            transform: translateY(-2px);
            border-color: #0066ff;
        }
        
        .ticket-item.active {
            background: rgba(0,100,255,0.3);
            border-color: #00ccff;
        }
        
        .ticket-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .ticket-meta {
            font-size: 12px;
            color: #aaa;
        }
        
        .ticket-title {
            font-weight: bold;
            color: #6ab7ff;
            font-size: 16px;
            max-width: 70%;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        
        /* –î–µ—Ç–∞–ª—å–Ω–∞—è –ø–∞–Ω–µ–ª—å */
        .detail-panel {
            position: fixed;
            top: 0;
            right: -500px; /* –°–∫—Ä—ã—Ç–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é */
            width: 500px;
            height: 100%;
            background: #1a1a4a;
            border-left: 2px solid #0066ff;
            z-index: 100;
            padding: 25px;
            box-shadow: -10px 0 30px rgba(0,0,0,0.5);
            transition: right 0.4s ease-out;
            display: flex;
            flex-direction: column;
        }
        
        .detail-panel.open {
            right: 0;
        }
        
        .detail-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255,255,255,0.2);
            flex-shrink: 0;
        }
        
        .detail-header h3 {
            margin: 0;
            color: #00ccff;
        }
        
        .close-btn {
            background: none;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
            transition: 0.2s;
        }
        
        .close-btn:hover {
            color: #ff3333;
            transform: rotate(90deg);
        }
        
        .detail-content {
            flex-grow: 1;
            overflow-y: auto;
            padding-right: 15px; /* –î–ª—è —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞ */
        }
        
        .detail-section {
            margin-bottom: 20px;
            padding: 15px;
            background: rgba(255,255,255,0.05);
            border-radius: 10px;
        }
        
        .detail-section h4 {
            color: #6ab7ff;
            margin-bottom: 10px;
            font-size: 16px;
            border-bottom: 1px dashed rgba(255,255,255,0.1);
            padding-bottom: 5px;
        }
        
        .detail-actions {
            display: flex;
            gap: 10px;
            padding-top: 15px;
            border-top: 1px solid rgba(255,255,255,0.1);
            flex-shrink: 0;
        }
        
        .detail-actions button {
            flex-grow: 1;
            padding: 12px;
            border: none;
            border-radius: 10px;
            font-weight: bold;
            cursor: pointer;
            transition: 0.3s;
        }
        
        .btn-reply {
            background: linear-gradient(90deg, #00ccff, #0066ff);
            color: white;
        }
        
        .btn-close {
            background: linear-gradient(90deg, #ff9900, #ff6600);
            color: white;
        }
        
        .btn-delete {
            background: #ff3333;
            color: white;
        }
        
        .detail-description {
            white-space: pre-wrap;
            word-wrap: break-word;
            color: #ccccff;
        }
        
        .detail-proofs {
            white-space: pre-wrap;
            word-wrap: break-word;
            font-size: 14px;
        }
        
        .detail-reply-box {
            margin-top: 20px;
            padding: 15px;
            background: rgba(0, 102, 255, 0.1);
            border-radius: 10px;
        }
        
        .detail-reply-box textarea {
            width: 100%;
            padding: 10px;
            border-radius: 5px;
            border: 1px solid #0066ff;
            background: rgba(0,0,0,0.3);
            color: white;
            min-height: 100px;
            resize: vertical;
            margin-bottom: 10px;
        }
        
        .detail-reply-box button {
            padding: 10px 15px;
            background: #0066ff;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞ */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: rgba(255,255,255,0.05);
        }
        
        ::-webkit-scrollbar-thumb {
            background: #0066ff;
            border-radius: 10px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #00ccff;
        }
        
    </style>
</head>
<body>

    <div class="container">
        <div class="admin-nav">
            <div style="display: flex; align-items: center; gap: 15px; flex-wrap: wrap;">
                <a href="../index.html">üè† –ì–ª–∞–≤–Ω–∞—è —Å–∞–π—Ç–∞</a>
                <a href="admin_main.html">üëë –ì–ª–∞–≤–Ω–∞—è –∞–¥–º–∏–Ω–∫–∏</a>
                <a href="admin_support.html" class="active">üõ°Ô∏è –ü–æ–¥–¥–µ—Ä–∂–∫–∞</a>
                <a href="admin_users.html">üë• –ò–≥—Ä–æ–∫–∏</a>
                <a href="admin_stats.html">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</a>
                <a href="admin_logs.html">üìã –õ–æ–≥–∏</a>
                <a href="admin_rights.html">‚ö° –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤–∞–º–∏</a>
            </div>
            
            <div style="display: flex; align-items: center; gap: 15px;">
                <span id="admin-name-display" style="color: #6ab7ff; font-size: 14px;">
                    </span>
                <button onclick="adminLogout()" class="logout-btn">
                    üö™ –í—ã–π—Ç–∏
                </button>
            </div>
        </div>

        <div class="admin-container">
            <aside class="sidebar">
                <div class="admin-info">
                    <div class="admin-avatar">
                        üëë
                    </div>
                    <h3 id="adminName">–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</h3>
                    <p style="color: #aaa; font-size: 14px;">–°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏</p>
                </div>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-number" id="stats-total">0</div>
                        <div class="stat-label">–í—Å–µ–≥–æ</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="stats-new" style="color: #ff9900;">0</div>
                        <div class="stat-label">–ù–æ–≤—ã–µ</div>
                    </div>
                </div>
                
                <div class="filter-section">
                    <h4>–§–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É</h4>
                    <div class="filter-buttons">
                        <button class="filter-btn active" id="filter-all" onclick="filterTickets('all')">
                            <span>–í—Å–µ –æ–±—Ä–∞—â–µ–Ω–∏—è</span>
                            <span class="filter-count" id="count-all">0</span>
                        </button>
                        <button class="filter-btn" id="filter-new" onclick="filterTickets('new')">
                            <span>–ù–æ–≤—ã–µ (–û–∂–∏–¥–∞—é—Ç –æ—Ç–≤–µ—Ç–∞)</span>
                            <span class="filter-count" id="count-new">0</span>
                        </button>
                        <button class="filter-btn" id="filter-pending" onclick="filterTickets('pending')">
                            <span>–ù–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–∏</span>
                            <span class="filter-count" id="count-pending">0</span>
                        </button>
                        <button class="filter-btn" id="filter-answered" onclick="filterTickets('answered')">
                            <span>–û—Ç–≤–µ—á–µ–Ω–Ω—ã–µ</span>
                            <span class="filter-count" id="count-answered">0</span>
                        </button>
                        <button class="filter-btn" id="filter-closed" onclick="filterTickets('closed')">
                            <span>–ó–∞–∫—Ä—ã—Ç—ã–µ</span>
                            <span class="filter-count" id="count-closed">0</span>
                        </button>
                    </div>
                </div>
                
                <div class="filter-section">
                    <h4>–§–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø—É</h4>
                    <div class="filter-buttons">
                        <button class="filter-btn" id="filter-complaint" onclick="filterTickets('complaint')">
                            <span>–ñ–∞–ª–æ–±—ã (‚ö†Ô∏è)</span>
                            <span class="filter-count" id="count-complaint">0</span>
                        </button>
                        <button class="filter-btn" id="filter-appeal" onclick="filterTickets('appeal')">
                            <span>–ê–ø–µ–ª–ª—è—Ü–∏–∏ (‚öñÔ∏è)</span>
                            <span class="filter-count" id="count-appeal">0</span>
                        </button>
                        <button class="filter-btn" id="filter-other" onclick="filterTickets('other')">
                            <span>–ü—Ä–æ—á–µ–µ (üí¨)</span>
                            <span class="filter-count" id="count-other">0</span>
                        </button>
                    </div>
                </div>
                
            </aside>
            
            <main class="main-panel">
                <div class="panel-header">
                    <h2>üõ°Ô∏è –ê–∫—Ç–∏–≤–Ω—ã–µ –æ–±—Ä–∞—â–µ–Ω–∏—è</h2>
                    <div class="search-box">
                        <input type="text" id="searchInput" placeholder="–ü–æ–∏—Å–∫ –ø–æ ID –∏–ª–∏ –Ω–∏–∫—É..." oninput="searchTickets()">
                        <button onclick="searchTickets()">–ù–∞–π—Ç–∏</button>
                    </div>
                </div>
                
                <div id="ticketsLoader" style="text-align: center; padding: 20px; color: #aaa;">
                    –ó–∞–≥—Ä—É–∑–∫–∞ –æ–±—Ä–∞—â–µ–Ω–∏–π... ‚öôÔ∏è
                </div>
                
                <div class="tickets-list" id="ticketsList">
                    </div>
            </main>
        </div>
    </div>
    
    <div class="detail-panel" id="detailPanel">
        <div class="detail-header">
            <h3 id="detailTitle">–î–µ—Ç–∞–ª–∏ –æ–±—Ä–∞—â–µ–Ω–∏—è #...</h3>
            <button class="close-btn" onclick="closeDetailPanel()">√ó</button>
        </div>
        
        <div class="detail-content">
            <div class="detail-section">
                <h4>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ</h4>
                <p>–ù–∏–∫: <strong id="detailUsername" style="color: #00ccff;"></strong></p>
                <p>ID: <span id="detailUserId" style="color: #aaa; font-size: 12px;"></span></p>
                <p>IP (–ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏): <span id="detailUserIp"></span></p>
            </div>
            
            <div class="detail-section">
                <h4>–û–ø–∏—Å–∞–Ω–∏–µ –æ–±—Ä–∞—â–µ–Ω–∏—è</h4>
                <p>–¢–∏–ø: <strong id="detailType" style="color: #00ff99;"></strong></p>
                <p>–î–∞—Ç–∞: <span id="detailDate"></span></p>
                <p style="margin-top: 10px;" id="detailReason"></p>
                <p style="margin-top: 10px;" class="detail-description" id="detailDescription"></p>
            </div>
            
            <div class="detail-section">
                <h4>–î–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞/–°—Å—ã–ª–∫–∏</h4>
                <p class="detail-proofs" id="detailProofs"></p>
            </div>
            
            <div class="detail-section" id="detailReplySection">
                <h4>–û—Ç–≤–µ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h4>
                <p id="detailReplyAdmin" style="color: #ff9900; font-weight: bold;"></p>
                <p style="margin-top: 5px; color: #aaa; font-size: 12px;" id="detailReplyDate"></p>
                <p style="margin-top: 10px;" class="detail-description" id="detailReplyText"></p>
            </div>
            
            <div class="detail-reply-box" id="newReplyBox">
                <h4>–ù–æ–≤—ã–π –æ—Ç–≤–µ—Ç</h4>
                <textarea id="replyTextarea" placeholder="–ù–∞–ø–∏—à–∏—Ç–µ –≤–∞—à –æ—Ç–≤–µ—Ç –∑–¥–µ—Å—å..."></textarea>
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <button onclick="sendReply()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–≤–µ—Ç</button>
                    <button onclick="markAsPending(selectedTicketId)" style="background: #0099ff;">–ù–∞ —Ä–∞—Å–º–æ—Ç—Ä–µ–Ω–∏–µ</button>
                </div>
            </div>
            
            <div style="margin-top: 20px; text-align: center; color: #ff3333; font-size: 14px;" id="autoDeleteTimer">
                </div>
        </div>
        
        <div class="detail-actions">
            <button class="btn-close" onclick="markAsClosed(selectedTicketId)">‚úÖ –ó–∞–∫—Ä—ã—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏–µ</button>
            <button class="btn-delete" onclick="deleteTicket(selectedTicketId)">üóëÔ∏è –£–¥–∞–ª–∏—Ç—å –±–µ–∑ –æ—Ç–≤–µ—Ç–∞</button>
        </div>
    </div>
    

    <script>
        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        let database;
        let auth;
        
        let allTickets = [];
        let filteredTickets = [];
        let currentFilter = 'all';
        currentAdmin = {}; // –ò–°–ü–†–ê–í–õ–ï–ù–û (4/4): –£–±—Ä–∞–Ω–æ 'let' –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è SyntaxError: Identifier 'currentAdmin' has already been declared
        let selectedTicketId = null;
        let selectedTicketData = null;
        const AUTO_DELETE_DELAY = 5 * 60 * 1000; // 5 –º–∏–Ω—É—Ç –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö (–¥–ª—è —Ç–∞–π–º–µ—Ä–∞)

        // ==================== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ====================
        async function checkAuth() {
            try {
                // 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Firebase (–¥–æ—Å—Ç—É–ø–Ω–∞ –±–ª–∞–≥–æ–¥–∞—Ä—è admin_common.js)
                database = initFirebase();
                
                // 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
                auth = await checkAdminAuth();

                if (!auth.success) {
                    redirectToLogin();
                    return;
                }
                
                // 3. –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
                document.getElementById('adminName').textContent = auth.adminName;
                document.getElementById('admin-name-display').textContent = `üëë ${auth.adminName}`;
                
                // 4. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≥–ª–æ–±–∞–ª—å–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∞–¥–º–∏–Ω–∞
                currentAdmin = {
                    name: auth.adminName,
                    id: localStorage.getItem('jojoland_userId') || 'system'
                };
                
                // 5. –ó–∞–ø—É—Å–∫ –∑–∞–≥—Ä—É–∑–∫–∏ —Ç–∏–∫–µ—Ç–æ–≤
                loadTickets();
                
            } catch (e) {
                console.error('–û—à–∏–±–∫–∞ –≤ checkAuth:', e);
                // –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ Firebase, –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ –ª–æ–≥–∏–Ω
                if (e.message.includes('Firebase') || e instanceof TypeError) {
                     alert('–û—à–∏–±–∫–∞: Firebase –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω –∏–ª–∏ –Ω–µ–≤–µ—Ä–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏ —Å–∫—Ä–∏–ø—Ç–æ–≤. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å.');
                     // redirectToLogin(); // –ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è –¥–µ–±–∞–≥–∞
                }
            }
        }
        
        // ==================== –û–ë–†–ê–ë–û–¢–ß–ò–ö–ò –ü–ê–ù–ï–õ–ò –î–ï–¢–ê–õ–ï–ô ====================
        function showDetailPanel(ticketId) {
            selectedTicketId = ticketId;
            selectedTicketData = allTickets.find(t => t.id === ticketId);
            
            if (!selectedTicketData) return;

            // –°–±—Ä–æ—Å –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞
            document.querySelectorAll('.ticket-item').forEach(item => item.classList.remove('active'));
            // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ
            document.getElementById(`ticket-${ticketId}`).classList.add('active');
            
            const data = selectedTicketData;

            // –ó–∞–≥–æ–ª–æ–≤–æ–∫
            document.getElementById('detailTitle').textContent = `–î–µ—Ç–∞–ª–∏ –æ–±—Ä–∞—â–µ–Ω–∏—è #${data.ticketId?.substr(0, 8) || data.id.substr(0, 8)}`;
            
            // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
            document.getElementById('detailUsername').textContent = data.username || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –∏–≥—Ä–æ–∫';
            document.getElementById('detailUserId').textContent = data.userId || '–ù–µ—Ç ID';
            document.getElementById('detailUserIp').textContent = data.ip || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ';
            
            // –¢–∏–∫–µ—Ç
            document.getElementById('detailType').textContent = getTypeText(data.type);
            document.getElementById('detailDate').textContent = formatDate(data.timestamp) + ' –≤ ' + formatTime(data.timestamp);
            document.getElementById('detailReason').textContent = data.reason || '';
            document.getElementById('detailDescription').innerHTML = data.description ? formatLinks(data.description) : '–ù–µ—Ç –æ–ø–∏—Å–∞–Ω–∏—è';
            document.getElementById('detailProofs').innerHTML = data.proofs ? formatLinks(data.proofs) : '–ù–µ—Ç –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤';
            
            // –û—Ç–≤–µ—Ç
            const replySection = document.getElementById('detailReplySection');
            const newReplyBox = document.getElementById('newReplyBox');
            
            if (data.status === 'answered' || data.reply) {
                replySection.style.display = 'block';
                document.getElementById('detailReplyAdmin').textContent = `–û—Ç–≤–µ—Ç –æ—Ç: ${data.replyAdminName || '–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä'}`;
                document.getElementById('detailReplyDate').textContent = data.replyTimestamp ? formatDate(data.replyTimestamp) + ' –≤ ' + formatTime(data.replyTimestamp) : '–ù–µ—Ç –¥–∞—Ç—ã';
                document.getElementById('detailReplyText').textContent = data.reply || '–ù–µ—Ç —Ç–µ–∫—Å—Ç–∞ –æ—Ç–≤–µ—Ç–∞';
                newReplyBox.style.display = 'none';
            } else {
                replySection.style.display = 'none';
                newReplyBox.style.display = 'block';
                document.getElementById('replyTextarea').value = ''; // –û—á–∏—Å—Ç–∫–∞
            }
            
            // –¢–∞–π–º–µ—Ä —É–¥–∞–ª–µ–Ω–∏—è
            updateAutoDeleteTimer(data.timestamp);

            // –ü–æ–∫–∞–∑ –ø–∞–Ω–µ–ª–∏
            document.getElementById('detailPanel').classList.add('open');
        }

        function closeDetailPanel() {
            document.getElementById('detailPanel').classList.remove('open');
            // –°–±—Ä–æ—Å –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞
            document.querySelectorAll('.ticket-item').forEach(item => item.classList.remove('active'));
        }

        function updateAutoDeleteTimer(timestamp) {
            const now = Date.now();
            const elapsedTime = now - timestamp;
            const remainingTime = AUTO_DELETE_DELAY - elapsedTime;
            const timerDisplay = document.getElementById('autoDeleteTimer');
            
            if (remainingTime > 0 && selectedTicketData.status !== 'answered' && selectedTicketData.status !== 'closed') {
                const minutes = Math.floor(remainingTime / 60000);
                const seconds = Math.floor((remainingTime % 60000) / 1000);
                timerDisplay.textContent = `‚ö†Ô∏è –ë—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª–µ–Ω–æ —á–µ—Ä–µ–∑ ${minutes}–º ${seconds}—Å, –µ—Å–ª–∏ –Ω–µ –±—É–¥–µ—Ç –æ—Ç–≤–µ—Ç–∞.`;
                setTimeout(() => updateAutoDeleteTimer(timestamp), 1000);
            } else if (selectedTicketData.status === 'new' || selectedTicketData.status === 'pending') {
                timerDisplay.textContent = '–û–±—Ä–∞—â–µ–Ω–∏–µ —Å–∫–æ—Ä–æ –±—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω–æ, –µ—Å–ª–∏ –Ω–µ –±—É–¥–µ—Ç –æ—Ç–≤–µ—Ç–∞.';
            } else {
                timerDisplay.textContent = '–°—Ä–æ–∫ –∞–≤—Ç–æ—É–¥–∞–ª–µ–Ω–∏—è –∏—Å—Ç–µ–∫ –∏–ª–∏ –æ–±—Ä–∞—â–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ.';
            }
        }

        // ==================== –î–ï–ô–°–¢–í–ò–Ø –ê–î–ú–ò–ù–ò–°–¢–†–ê–¢–û–†–ê ====================
        async function sendReply() {
            const replyText = document.getElementById('replyTextarea').value.trim();
            if (!replyText) {
                showMessage('–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –æ—Ç–≤–µ—Ç–∞!', 'error');
                return;
            }
            
            if (!selectedTicketId || !selectedTicketData) return;

            if (!confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —ç—Ç–æ—Ç –æ—Ç–≤–µ—Ç –∏ –∑–∞–∫—Ä—ã—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏–µ?')) return;

            try {
                const update = {
                    status: 'answered',
                    reply: replyText,
                    replyAdminName: currentAdmin.name,
                    replyTimestamp: Date.now()
                };

                await database.ref(`support_requests/${selectedTicketId}`).update(update);
                logAdminAction('answer', `–û—Ç–≤–µ—Ç–∏–ª –Ω–∞ –æ–±—Ä–∞—â–µ–Ω–∏–µ #${selectedTicketId.substr(0, 8)}`);

                showMessage('–û—Ç–≤–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –∏ –æ–±—Ä–∞—â–µ–Ω–∏–µ –∑–∞–∫—Ä—ã—Ç–æ!', 'success');
                closeDetailPanel();
                // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
                loadTickets();

            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ—Ç–≤–µ—Ç–∞:', error);
                showMessage('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ—Ç–≤–µ—Ç–∞: ' + error.message, 'error');
            }
        }

        async function markAsPending(ticketId) {
            if (!ticketId || !selectedTicketData) return;
            if (!confirm('–û—Ç–º–µ—Ç–∏—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏–µ –∫–∞–∫ "–ù–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–∏"?')) return;
            
            try {
                await database.ref(`support_requests/${ticketId}`).update({ status: 'pending' });
                logAdminAction('pending', `–û—Ç–º–µ—Ç–∏–ª –∫–∞–∫ "–ù–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–∏" –æ–±—Ä–∞—â–µ–Ω–∏–µ #${ticketId.substr(0, 8)}`);
                showMessage('–û–±—Ä–∞—â–µ–Ω–∏–µ –ø–æ–º–µ—á–µ–Ω–æ –∫–∞–∫ "–ù–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–∏".', 'info');
                closeDetailPanel();
                loadTickets();
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –º–∞—Ä–∫–∏—Ä–æ–≤–∫–∏:', error);
                showMessage('–û—à–∏–±–∫–∞ –º–∞—Ä–∫–∏—Ä–æ–≤–∫–∏: ' + error.message, 'error');
            }
        }
        
        async function markAsClosed(ticketId) {
            if (!ticketId || !selectedTicketData) return;
            if (!confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –∑–∞–∫—Ä—ã—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏–µ?')) return;
            
            try {
                await database.ref(`support_requests/${ticketId}`).update({ status: 'closed' });
                logAdminAction('closed', `–ó–∞–∫—Ä—ã–ª –æ–±—Ä–∞—â–µ–Ω–∏–µ #${ticketId.substr(0, 8)}`);
                showMessage('–û–±—Ä–∞—â–µ–Ω–∏–µ –∑–∞–∫—Ä—ã—Ç–æ.', 'success');
                closeDetailPanel();
                loadTickets();
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è:', error);
                showMessage('–û—à–∏–±–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è: ' + error.message, 'error');
            }
        }

        async function deleteTicket(ticketId) {
            if (!ticketId || !selectedTicketData) return;
            if (!confirm('–í–ù–ò–ú–ê–ù–ò–ï! –í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –ù–ê–í–°–ï–ì–î–ê —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ –æ–±—Ä–∞—â–µ–Ω–∏–µ –±–µ–∑ –æ—Ç–≤–µ—Ç–∞?')) return;

            try {
                await database.ref(`support_requests/${ticketId}`).remove();
                logAdminAction('delete', `–£–¥–∞–ª–∏–ª –æ–±—Ä–∞—â–µ–Ω–∏–µ #${ticketId.substr(0, 8)}`);
                
                showMessage('–û–±—Ä–∞—â–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–æ.', 'success');
                closeDetailPanel();
                loadTickets();

            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è:', error);
                showMessage('–û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è: ' + error.message, 'error');
            }
        }
        
        async function logAdminAction(action, description) {
            try {
                await database.ref('admin_actions').push({
                    action: action,
                    description: description,
                    adminName: currentAdmin.name,
                    adminId: currentAdmin.id,
                    timestamp: Date.now(),
                    ip: 'local' // –í –±–æ–µ–≤–æ–º –∫–æ–¥–µ –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å getUserIP()
                });
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:', error);
            }
        }

        // ==================== –ó–ê–ì–†–£–ó–ö–ê –ò –û–ë–ù–û–í–õ–ï–ù–ò–ï –¢–ò–ö–ï–¢–û–í ====================
        async function loadTickets() {
            try {
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–∞–≥—Ä—É–∑—á–∏–∫
                document.getElementById('ticketsLoader').style.display = 'block';
                document.getElementById('ticketsList').innerHTML = ''; // –û—á–∏—Å—Ç–∫–∞ —Å–ø–∏—Å–∫–∞
                
                // –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
                const snapshot = await database.ref('support_requests').once('value');
                const data = snapshot.val();
                
                allTickets = [];
                if (data) {
                    allTickets = Object.keys(data).map(key => ({
                        id: key,
                        ticketId: data[key].ticketId || key,
                        ...data[key]
                    })).sort((a, b) => b.timestamp - a.timestamp); // –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –¥–∞—Ç–µ (–Ω–æ–≤—ã–µ —Å–≤–µ—Ä—Ö—É)
                }

                // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤
                updateStats(allTickets);
                
                // –ü—Ä–∏–º–µ–Ω—è–µ–º —Ç–µ–∫—É—â–∏–π —Ñ–∏–ª—å—Ç—Ä –∏ –ø–æ–∏—Å–∫ (–µ—Å–ª–∏ –æ–Ω–∏ –µ—Å—Ç—å)
                filterTickets(currentFilter);

            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –æ–±—Ä–∞—â–µ–Ω–∏–π:', error);
                alert('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –æ–±—Ä–∞—â–µ–Ω–∏–π: ' + error.message);
            } finally {
                // –°–∫—Ä—ã–≤–∞–µ–º –∑–∞–≥—Ä—É–∑—á–∏–∫ (–∑–¥–µ—Å—å –±—ã–ª–∞ –æ—à–∏–±–∫–∞, –µ—Å–ª–∏ —ç–ª–µ–º–µ–Ω—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª)
                const loader = document.getElementById('ticketsLoader');
                if (loader) {
                    loader.style.display = 'none';
                }
            }
        }

        function updateStats(tickets) {
            const counts = {
                all: tickets.length,
                new: 0,
                pending: 0,
                answered: 0,
                closed: 0,
                complaint: 0,
                appeal: 0,
                other: 0
            };

            tickets.forEach(ticket => {
                counts[ticket.status] = (counts[ticket.status] || 0) + 1;
                counts[ticket.type] = (counts[ticket.type] || 0) + 1;
            });

            document.getElementById('stats-total').textContent = counts.all;
            document.getElementById('stats-new').textContent = counts.new;

            document.getElementById('count-all').textContent = counts.all;
            document.getElementById('count-new').textContent = counts.new;
            document.getElementById('count-pending').textContent = counts.pending;
            document.getElementById('count-answered').textContent = counts.answered;
            document.getElementById('count-closed').textContent = counts.closed;

            document.getElementById('count-complaint').textContent = counts.complaint;
            document.getElementById('count-appeal').textContent = counts.appeal;
            document.getElementById('count-other').textContent = counts.other;
        }

        function filterTickets(status) {
            currentFilter = status;
            
            // –°–±—Ä–æ—Å –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ –¥–ª—è –∫–Ω–æ–ø–æ–∫
            document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));

            // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ –¥–ª—è —Ç–µ–∫—É—â–µ–π –∫–Ω–æ–ø–∫–∏
            const filterButton = document.getElementById(`filter-${status}`);
            if (filterButton) {
                filterButton.classList.add('active');
            }
            
            // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è
            if (status === 'all') {
                filteredTickets = allTickets;
            } else if (['new', 'pending', 'answered', 'closed'].includes(status)) {
                filteredTickets = allTickets.filter(ticket => ticket.status === status);
            } else if (['complaint', 'appeal', 'other'].includes(status)) {
                filteredTickets = allTickets.filter(ticket => ticket.type === status);
            } else {
                filteredTickets = allTickets;
            }
            
            // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø–æ–∏—Å–∫–∞
            searchTickets();
        }

        function updateTicketsList() {
            const ticketsList = document.getElementById('ticketsList');
            ticketsList.innerHTML = '';
            
            if (filteredTickets.length === 0) {
                 ticketsList.innerHTML = `
                    <div style="text-align: center; padding: 50px; color: #aaa;">
                        ü§∑ –ù–µ—Ç –æ–±—Ä–∞—â–µ–Ω–∏–π, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö —Ñ–∏–ª—å—Ç—Ä–∞–º.
                    </div>
                `;
                return;
            }

            filteredTickets.forEach(ticket => {
                const statusBadge = getStatusBadge(ticket.status);
                const typeIcon = getTypeIcon(ticket.type);

                const item = document.createElement('div');
                item.className = 'ticket-item';
                item.id = `ticket-${ticket.id}`;
                item.onclick = () => showDetailPanel(ticket.id);
                
                item.innerHTML = `
                    <div class="ticket-header">
                        <span class="ticket-title">${typeIcon} ${truncateText(ticket.reason, 60) || truncateText(ticket.description, 60)}</span>
                        <span class="ticket-meta">${formatDate(ticket.timestamp)}</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <span style="font-size: 14px; color: #aaa;">${ticket.username || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π'} (${ticket.userId?.substr(0, 8) || '–ù–µ—Ç ID'})</span>
                        ${statusBadge}
                    </div>
                `;
                ticketsList.appendChild(item);
            });
        }
        
        function searchTickets() {
            const searchText = document.getElementById('searchInput').value.toLowerCase().trim();
            
            // –ï—Å–ª–∏ –ø–æ–∏—Å–∫ –ø—É—Å—Ç–æ–π, –ø—Ä–æ—Å—Ç–æ –æ–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫ –ø–æ —Ç–µ–∫—É—â–µ–º—É —Ñ–∏–ª—å—Ç—Ä—É
            if (!searchText) {
                updateTicketsList();
                return;
            }

            // –§–∏–ª—å—Ç—Ä—É–µ–º —É–∂–µ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø–æ –ø–æ–∏—Å–∫–æ–≤–æ–º—É –∑–∞–ø—Ä–æ—Å—É
            filteredTickets = filteredTickets.filter(ticket => {
                return (
                    (ticket.id && ticket.id.toLowerCase().includes(searchText)) ||
                    (ticket.ticketId && ticket.ticketId.toLowerCase().includes(searchText)) ||
                    (ticket.username && ticket.username.toLowerCase().includes(searchText)) ||
                    (ticket.userId && ticket.userId.toLowerCase().includes(searchText)) ||
                    (ticket.description && ticket.description.toLowerCase().includes(searchText)) ||
                    (ticket.reason && ticket.reason.toLowerCase().includes(searchText))
                );
            });
            
            const ticketsList = document.getElementById('ticketsList');
            
            if (filteredTickets.length === 0) {
                ticketsList.innerHTML = `
                    <div style="text-align: center; padding: 50px; color: #aaa;">
                        üîç –ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –ø–æ –∑–∞–ø—Ä–æ—Å—É: "${searchText}"
                    </div>
                `;
                return;
            }
            
            updateTicketsList();
        }
        
        // ==================== –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò ====================
        function getStatusBadge(status) {
            switch(status) {
                case 'new': return '<span style="background: rgba(255,153,0,0.2); color: #ff9900; padding: 5px 10px; border-radius: 5px; font-size: 12px; font-weight: bold;">üÜï –ù–æ–≤—ã–π</span>';
                case 'pending': return '<span style="background: rgba(0,100,255,0.2); color: #6ab7ff; padding: 5px 10px; border-radius: 5px; font-size: 12px; font-weight: bold;">‚è≥ –ù–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–∏</span>';
                case 'answered': return '<span style="background: rgba(0,255,0,0.2); color: #00ff00; padding: 5px 10px; border-radius: 5px; font-size: 12px; font-weight: bold;">‚úÖ –û—Ç–≤–µ—á–µ–Ω</span>';
                case 'closed': return '<span style="background: rgba(255,0,0,0.2); color: #ff0000; padding: 5px 10px; border-radius: 5px; font-size: 12px; font-weight: bold;">üîí –ó–∞–∫—Ä—ã—Ç</span>';
                default: return '<span style="background: rgba(255,255,255,0.1); color: #aaa; padding: 5px 10px; border-radius: 5px; font-size: 12px; font-weight: bold;">...</span>';
            }
        }
        
        function getTypeIcon(type) {
             switch(type) {
                case 'complaint': return '‚ö†Ô∏è';
                case 'appeal': return '‚öñÔ∏è';
                case 'other': return 'üí¨';
                default: return '‚ùì';
            }
        }
        
        function getTypeText(type) {
             switch(type) {
                case 'complaint': return '–ñ–∞–ª–æ–±–∞ (‚ö†Ô∏è)';
                case 'appeal': return '–ê–ø–µ–ª–ª—è—Ü–∏—è (‚öñÔ∏è)';
                case 'other': return '–ü—Ä–æ—á–µ–µ (üí¨)';
                default: return '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π —Ç–∏–ø (‚ùì)';
            }
        }
        
        function truncateText(text, maxLength) {
            if (!text) return '–ù–µ—Ç –æ–ø–∏—Å–∞–Ω–∏—è';
            if (text.length <= maxLength) return text;
            return text.substr(0, maxLength) + '...';
        }
        
        function formatLinks(text) {
            if (!text) return '–ù–µ—Ç –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤';
            const urlRegex = /(https?:\/\/[^\s]+)/g;
            return text.replace(urlRegex, url => {
                return `<a href="${url}" target="_blank" style="color: #6ab7ff;">${url}</a>`;
            }).replace(/\n/g, '<br>');
        }
        
        function showMessage(message, type = 'info') {
            alert(`[${type.toUpperCase()}] ${message}`);
        }
        
        // ==================== –ó–ê–ü–£–°–ö ====================
        document.addEventListener('DOMContentLoaded', checkAuth);
    </script>
</body>
</html>
