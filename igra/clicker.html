<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéÑ –ù–æ–≤–æ–≥–æ–¥–Ω–∏–π –ö–ª–∏–∫–µ—Ä | JojoLand</title>
    <link href="https://fonts.googleapis.com/css2?family=Michroma&family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="clicker.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- –õ–æ–∞–¥–µ—Ä -->
    <div id="loader">
        <div class="spinner"></div>
        <p>–ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∞–∑–¥–Ω–∏—á–Ω–æ–≥–æ –∫–ª–∏–∫–µ—Ä–∞...</p>
    </div>

    <!-- –§–æ–Ω–æ–≤—ã–µ —á–∞—Å—Ç–∏—Ü—ã -->
    <div class="background-effects" id="particles"></div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä -->
    <div id="content">
        <!-- –®–∞–ø–∫–∞ -->
        <header class="game-header">
            <div class="header-top">
                <a href="../index.html" class="back-btn">
                    <i class="fas fa-home"></i>
                    –ù–∞ –≥–ª–∞–≤–Ω—É—é
                </a>
                <div class="logo-container">
                    <img src="../images/logo.png" class="logo" alt="JojoLand Logo">
                    <span class="logo-text">–ù–æ–≤–æ–≥–æ–¥–Ω–∏–π –ö–ª–∏–∫–µ—Ä</span>
                </div>
            </div>
        </header>

        <!-- –≠–∫—Ä–∞–Ω –Ω–∞—á–∞–ª–∞ –∏–≥—Ä—ã -->
        <div id="start-screen" class="screen active">
            <div class="start-container">
                <div class="start-header">
                    <h1><i class="fas fa-gift"></i> –ù–æ–≤–æ–≥–æ–¥–Ω–∏–π –ö–ª–∏–∫–µ—Ä</h1>
                    <p class="subtitle">–õ–æ–≤–∏ –ø–∞–¥–∞—é—â–∏–µ –ø–æ–¥–∞—Ä–∫–∏ –∏ —Å–æ–±–∏—Ä–∞–π –æ—á–∫–∏!</p>
                </div>

                <div class="game-info-cards">
                    <div class="info-card">
                        <div class="info-icon">‚è±Ô∏è</div>
                        <div class="info-content">
                            <h3>2 –º–∏–Ω—É—Ç—ã</h3>
                            <p>–ò–≥—Ä–∞ –¥–ª–∏—Ç—Å—è 120 —Å–µ–∫—É–Ω–¥</p>
                        </div>
                    </div>
                    
                    <div class="info-card">
                        <div class="info-icon">üé´</div>
                        <div class="info-content">
                            <h3 id="tickets-count">1 –±–∏–ª–µ—Ç–∏–∫</h3>
                            <p>1 –±–∏–ª–µ—Ç –¥–∞—ë—Ç—Å—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ</p>
                        </div>
                    </div>
                    
                    <div class="info-card">
                        <div class="info-icon">üèÜ</div>
                        <div class="info-content">
                            <h3>–†–µ–π—Ç–∏–Ω–≥</h3>
                            <p>–°–æ—Ä–µ–≤–Ω—É–π—Å—è —Å –¥—Ä—É–≥–∏–º–∏</p>
                        </div>
                    </div>
                </div>

                <!-- –ü—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã -->
                <div class="rules-container">
                    <h3><i class="fas fa-info-circle"></i> –ü—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã</h3>
                    <div class="rules-grid">
                        <div class="rule-item">
                            <div class="rule-icon gift">üéÅ</div>
                            <div class="rule-text">
                                <h4>–ü–æ–¥–∞—Ä–æ–∫</h4>
                                <p>1-5 –æ—á–∫–æ–≤</p>
                            </div>
                        </div>
                        
                        <div class="rule-item">
                            <div class="rule-icon bomb">üí£</div>
                            <div class="rule-text">
                                <h4>–ë–æ–º–±–∞</h4>
                                <p>–û–±–Ω—É–ª—è–µ—Ç –æ—á–∫–∏</p>
                            </div>
                        </div>
                        
                        <div class="rule-item">
                            <div class="rule-icon snowflake">‚ùÑÔ∏è</div>
                            <div class="rule-text">
                                <h4>–ó–∞–º–æ—Ä–æ–∑–∫–∞</h4>
                                <p>3 —Å–µ–∫ –±–µ–∑ –∫–ª–∏–∫–æ–≤</p>
                            </div>
                        </div>
                        
                        <div class="rule-item">
                            <div class="rule-icon star">‚≠ê</div>
                            <div class="rule-text">
                                <h4>–ó–æ–ª–æ—Ç–æ–π –ø–æ–¥–∞—Ä–æ–∫</h4>
                                <p>10-20 –æ—á–∫–æ–≤ –∏–ª–∏ +5 —Å–µ–∫</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
                <div class="stats-preview">
                    <div class="stat-item">
                        <span class="stat-label">–õ—É—á—à–∏–π —Å—á—ë—Ç:</span>
                        <span class="stat-value" id="best-score-preview">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">–ò–≥—Ä —Å—ã–≥—Ä–∞–Ω–æ:</span>
                        <span class="stat-value" id="games-played">0</span>
                    </div>
                </div>

                <!-- –ö–Ω–æ–ø–∫–∞ —Å—Ç–∞—Ä—Ç–∞ -->
                <div class="start-button-container">
                    <button id="start-game-btn" class="start-btn">
                        <i class="fas fa-play"></i>
                        <span>–ò–≥—Ä–∞—Ç—å –∑–∞ 1 –±–∏–ª–µ—Ç–∏–∫</span>
                        <div class="ticket-cost">
                            <i class="fas fa-ticket-alt"></i> 1
                        </div>
                    </button>
                    <p class="ticket-info" id="next-ticket-info">–°–ª–µ–¥—É—é—â–∏–π –±–∏–ª–µ—Ç —á–µ—Ä–µ–∑: --:--:--</p>
                </div>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω –∏–≥—Ä—ã -->
        <div id="game-screen" class="screen">
            <!-- –ò–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ -->
            <div class="game-container">
                <!-- –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å -->
                <div class="game-top-panel">
                    <div class="game-stats">
                        <div class="stat-box time-box">
                            <i class="fas fa-clock"></i>
                            <span id="game-timer">02:00</span>
                        </div>
                        
                        <div class="stat-box score-box">
                            <i class="fas fa-star"></i>
                            <span id="game-score">0</span>
                        </div>
                        
                        <div class="stat-box combo-box">
                            <i class="fas fa-bolt"></i>
                            <span id="combo-multiplier">x1</span>
                        </div>
                        
                        <div class="stat-box freeze-box">
                            <i class="fas fa-snowflake"></i>
                            <span id="freeze-timer">0—Å</span>
                        </div>
                    </div>

                    <button id="pause-btn" class="control-btn">
                        <i class="fas fa-pause"></i>
                    </button>
                </div>

                <!-- –ò–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ –¥–ª—è –ø–∞–¥–∞—é—â–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤ -->
                <div class="game-field" id="game-field">
                    <div class="field-background"></div>
                    
                    <!-- –ü–∞–¥–∞—é—â–∏–µ –æ–±—ä–µ–∫—Ç—ã –±—É–¥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å—Å—è –∑–¥–µ—Å—å -->
                </div>

                <!-- –ù–∏–∂–Ω—è—è –ø–∞–Ω–µ–ª—å -->
                <div class="game-bottom-panel">
                    <div class="items-counter">
                        <div class="item-count">
                            <span class="item-icon gift">üéÅ</span>
                            <span id="gifts-caught">0</span>
                        </div>
                        <div class="item-count">
                            <span class="item-icon star">‚≠ê</span>
                            <span id="stars-caught">0</span>
                        </div>
                        <div class="item-count">
                            <span class="item-icon bomb">üí£</span>
                            <span id="bombs-avoided">0</span>
                        </div>
                    </div>

                    <div class="combo-indicator">
                        <div class="combo-bar">
                            <div class="combo-fill" id="combo-fill"></div>
                        </div>
                        <div class="combo-text">–ö–æ–º–±–æ: <span id="combo-count">0</span></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω –ø–∞—É–∑—ã -->
        <div id="pause-screen" class="screen">
            <div class="pause-container">
                <div class="pause-header">
                    <h2><i class="fas fa-pause"></i> –ò–≥—Ä–∞ –Ω–∞ –ø–∞—É–∑–µ</h2>
                    <p>–¢–≤–æ–∏ —Ç–µ–∫—É—â–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã</p>
                </div>

                <div class="pause-stats">
                    <div class="pause-stat">
                        <div class="stat-icon"><i class="fas fa-clock"></i></div>
                        <div class="stat-info">
                            <div class="stat-label">–í—Ä–µ–º—è</div>
                            <div class="stat-value" id="pause-time">02:00</div>
                        </div>
                    </div>
                    
                    <div class="pause-stat">
                        <div class="stat-icon"><i class="fas fa-star"></i></div>
                        <div class="stat-info">
                            <div class="stat-label">–û—á–∫–∏</div>
                            <div class="stat-value" id="pause-score">0</div>
                        </div>
                    </div>
                    
                    <div class="pause-stat">
                        <div class="stat-icon"><i class="fas fa-bolt"></i></div>
                        <div class="stat-info">
                            <div class="stat-label">–ö–æ–º–±–æ</div>
                            <div class="stat-value" id="pause-combo">x1</div>
                        </div>
                    </div>
                </div>

                <div class="pause-buttons">
                    <button id="resume-btn" class="pause-btn resume">
                        <i class="fas fa-play"></i> –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å
                    </button>
                    <button id="restart-btn" class="pause-btn restart">
                        <i class="fas fa-redo"></i> –ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ
                    </button>
                    <button id="quit-btn" class="pause-btn quit">
                        <i class="fas fa-home"></i> –í—ã–π—Ç–∏ –≤ –º–µ–Ω—é
                    </button>
                </div>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ -->
        <div id="result-screen" class="screen">
            <div class="result-container">
                <div class="result-header">
                    <h2><i class="fas fa-trophy"></i> –ò–≥—Ä–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!</h2>
                    <p>–í–æ—Ç —Ç–≤–æ–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã</p>
                </div>

                <div class="result-score">
                    <div class="score-circle">
                        <div class="score-value" id="final-score">0</div>
                        <div class="score-label">–æ—á–∫–æ–≤</div>
                    </div>
                    
                    <div class="result-details">
                        <div class="detail-row">
                            <span class="detail-label">–í—Ä–µ–º—è –∏–≥—Ä—ã:</span>
                            <span class="detail-value" id="final-time">02:00</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–º–±–æ:</span>
                            <span class="detail-value" id="final-combo">x1</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">–ü–æ–π–º–∞–Ω–æ –ø–æ–¥–∞—Ä–∫–æ–≤:</span>
                            <span class="detail-value" id="final-gifts">0</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">–ü–æ–π–º–∞–Ω–æ –∑–≤—ë–∑–¥:</span>
                            <span class="detail-value" id="final-stars">0</span>
                        </div>
                    </div>
                </div>

                <!-- –ù–æ–≤—ã–π —Ä–µ–∫–æ—Ä–¥ -->
                <div class="new-record" id="new-record-badge" style="display: none;">
                    <div class="record-icon">üèÜ</div>
                    <div class="record-text">
                        <h3>–ù–û–í–´–ô –†–ï–ö–û–†–î!</h3>
                        <p>–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º —Å –ª—É—á—à–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º!</p>
                    </div>
                </div>

                <!-- –†–µ–π—Ç–∏–Ω–≥ -->
                <div class="result-ranking">
                    <h3><i class="fas fa-chart-line"></i> –¢–æ–ø –∏–≥—Ä–æ–∫–æ–≤</h3>
                    <div class="ranking-list" id="ranking-list">
                        <div class="ranking-loading">
                            <div class="loading-spinner small"></div>
                            <p>–ó–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–π—Ç–∏–Ω–≥–∞...</p>
                        </div>
                    </div>
                </div>

                <div class="result-buttons">
                    <button id="play-again-btn" class="result-btn play-again">
                        <i class="fas fa-redo"></i> –ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞
                    </button>
                    <button id="share-result-btn" class="result-btn share">
                        <i class="fas fa-share-alt"></i> –ü–æ–¥–µ–ª–∏—Ç—å—Å—è
                    </button>
                    <button id="back-to-menu-btn" class="result-btn back">
                        <i class="fas fa-home"></i> –í –º–µ–Ω—é
                    </button>
                </div>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª–∫–∞ –æ—à–∏–±–∫–∏ -->
        <div id="error-modal" class="modal-overlay">
            <div class="modal-content">
                <div class="modal-header error">
                    <i class="fas fa-exclamation-triangle"></i>
                    <h3>–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±–∏–ª–µ—Ç–æ–≤!</h3>
                </div>
                <div class="modal-body">
                    <p>–£ —Ç–µ–±—è –Ω–µ—Ç –±–∏–ª–µ—Ç–∏–∫–æ–≤ –¥–ª—è –Ω–∞—á–∞–ª–∞ –∏–≥—Ä—ã.</p>
                    <p>–ï–∂–µ–¥–Ω–µ–≤–Ω–æ —Ç—ã –ø–æ–ª—É—á–∞–µ—à—å 1 –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –±–∏–ª–µ—Ç.</p>
                    <div class="ticket-info-modal">
                        <i class="fas fa-ticket-alt"></i>
                        <div>
                            <strong>–°–ª–µ–¥—É—é—â–∏–π –±–∏–ª–µ—Ç —á–µ—Ä–µ–∑:</strong>
                            <div id="error-timer" class="error-timer">--:--:--</div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button id="close-error-btn" class="modal-btn">–ó–∞–∫—Ä—ã—Ç—å</button>
                </div>
            </div>
        </div>
    </div>

    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º Firebase -->
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script>
    
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º JS —Ñ–∞–π–ª—ã -->
    <script src="clicker.js"></script>
    <script>
        // Firebase –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
        const firebaseConfig = {
            apiKey: "AIzaSyBwhNixWO8dF_drN2hHVYzfTAbMCiT91Gw",
            authDomain: "jojoland-chat.firebasestorage.app",
            databaseURL: "https://jojoland-chat-default-rtdb.firebaseio.com",
            projectId: "jojoland-chat",
            storageBucket: "jojoland-chat.firebasestorage.app",
            messagingSenderId: "602788305122",
            appId: "1:602788305122:web:c03f5b5ef59c85fc9fe6bb"
        };
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Firebase
        if (!firebase.apps.length) {
            firebase.initializeApp(firebaseConfig);
        }
    </script>
</body>
</html>
